{"version":3,"sources":["../scripts.babel/contentscript.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["chrome.extension.onRequest.addListener(\n  function(request, sender, sendResponse) {\n    $('body').append('<div id=\"simility-footer\" class=\"simility-footer\">');\n    console.log(\"受信\");\n    console.log(request.res);\n    sendResponse({message: \"受信 background => contents\"});\n    var res = request.res;\n    ReactDOM.render(\n      <EntryBox res={res}/>,\n      document.getElementById('simility-footer')\n    );\n\n    // for(var val of res){\n    //   };\n  }\n);\n\nchrome.extension.sendRequest({url: location.href}, function(res){\n  console.log(\"リクエスト\");\n});\n\nvar EntryBox = React.createClass({\n  getInitialState() {\n    return {\n      position: 0,\n      data: this.props.res\n    };\n  },\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown, false);\n  },\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown, false);\n  },\n  render: function() {\n    var footer = [];\n    var max = this.state.data.length;\n    var data = this.state.data;\n    var style = {};\n    console.log(\"data/\" + data.length + \" position/\" + this.state.position);\n    style.color = '#0f0f0f';\n    for (var i = this.state.position - 2; i <= this.state.position + 2; i++) {\n      var position = i\n      if (i < 0) position = i + max;\n      if (i >= max) position = i - max;\n      var val = data[position];\n      var entryStyle = {\n        background: 'url(' + val.screenshot + ')'\n      };\n      var d = new Date(val.created_at);\n      footer.push(\n        <a key={position} href={val.link} className={this.state.position === position ? 'entry-box entry-select' : 'entry-box'} style={entryStyle}>\n          <div className=\"entry-info\">\n            <div className=\"entry-contents\">\n              <div className=\"title\">{val.title}</div>\n              <div className=\"description\">{val.description}</div>\n            </div>\n            <div className=\"entry-meta\">\n              <span className=\"entry-count\">Count: {val.count + \"\"}</span>\n              <span className=\"created_at\">{d.getFullYear() + '/' + d.getMonth() + '/' + d.getDate()}</span>\n            </div>\n          </div>\n        </a>\n        );\n      };\n    return (\n    <div className=\"simility-footer-contents\">\n      {footer}\n    </div>\n    );\n  },\n  handleKeydown(e) {\n    console.log(this.state.position);\n    console.log(e.keyCode);\n    if (e.keyCode == 37) {\n      if (this.state.position == 0) { this.setState({position: this.state.position + this.state.data.length}); }\n      else if (this.state.position > 0) this.setState({position: this.state.position - 1});\n    } else if (e.keyCode == 39) {\n      if(this.state.position == this.state.data.length) { this.setState({position: this.state.position - this.state.data.length}); }\n      else if (this.state.position < this.state.data.length) this.setState({position: this.state.position + 1});\n    } else if (e.keyCode == 13){\n      location.href = this.state.data[this.state.position].link;\n    };\n  }\n});"]}