{"version":3,"sources":["../scripts.babel/contentscript.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["chrome.extension.onRequest.addListener(\n  function(request, sender, sendResponse) {\n    $('body').append('<div id=\"simility-footer\" class=\"simility-footer\">');\n    console.log(\"受信\");\n    console.log(request.res);\n    sendResponse({message: \"受信 background => contents\"});\n    var res = request.res;\n    ReactDOM.render(\n      <EntryBox res={res}/>,\n      document.getElementById('simility-footer')\n    );\n\n    // for(var val of res){\n    //   };\n  }\n);\n\nchrome.extension.sendRequest({url: location.href}, function(res){\n  console.log(\"リクエスト\");\n});\n\nvar EntryBox = React.createClass({\n  getInitialState() {\n    return {\n      position: 15,\n      data: this.props.res\n    };\n  },\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown, false);\n  },\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown, false);\n  },\n  render: function() {\n    var footer = [];\n    var max = this.state.data.length-1;\n    var data = this.state.data;\n    var style = {};\n    console.log(\"data/\" + data.length + \" position/\" + this.state.position);\n    style.color = '#0f0f0f';\n    for (var i = this.state.position - 2; i <= this.state.position + 2; i++) {\n      var val = data[i];\n      // footer.push(<div key={i} className={(i < 0 || i > max) ? 'block1 hide' : 'block1'}>{i}</div>);\n      if (i < 0 || i > max) {\n        footer.push(<a key={i} href=\"#\" className='entry-box hide'></a>)\n      } else {\n        var entryStyle = {\n          background: 'url(' + val.screenshot + ')'\n        };\n        var d = new Date(val.created_at);\n        footer.push(\n          <a key={i} href={val.link} className={this.state.position === i ? 'entry-box select' : 'entry-box'} style={entryStyle}>\n            <div className=\"entry-info\">\n              <div className=\"entry-contents\">\n                <div className=\"title\">{val.title}</div>\n                <div className=\"description\">{val.description}</div>\n              </div>\n              <div className=\"entry-meta\">\n                <span className=\"entry-count\">Count: {val.count + \"\"}</span>\n                <span className=\"created_at\">{d.getFullYear() + '/' + d.getMonth() + '/' + d.getDate()}</span>\n              </div>\n            </div>\n          </a>\n          );\n      }\n    };\n    return (\n    <div className=\"simility-footer-contents\">\n      {footer}\n    </div>\n    );\n  },\n  handleKeydown(e) {\n    console.log(e.keyCode);\n    if (e.keyCode == 37) {\n      if (this.state.position > 0) this.setState({position: this.state.position - 1});\n    } else if (e.keyCode == 39) {\n      if(this.state.position < this.state.data.length-1) this.setState({position: this.state.position + 1});\n    } else if (e.keyCode == 13){\n      location.href = this.state.data[this.state.position].link;\n    };\n  }\n});"]}