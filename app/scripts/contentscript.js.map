{"version":3,"sources":["../scripts.babel/contentscript.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["chrome.extension.onRequest.addListener(\n  function(request, sender, sendResponse) {\n    $('body').append('<div id=\"simility-footer\" class=\"simility-footer\">');\n    console.log(\"受信\");\n    console.log(request.res);\n    sendResponse({message: \"受信 background => contents\"});\n    var res = request.res;\n    ReactDOM.render(\n      <EntryBox res={res}/>,\n      document.getElementById('simility-footer')\n    );\n    // for(var val of res){\n    //   };\n  }\n);\nchrome.extension.sendRequest({url: location.href, text: $('h1').text()+$('h2').text()+$('h3').text(), title: $(document).find(\"title\").text()}, function(res){\n  console.log(\"リクエスト\");\n});\nvar EntryBox = React.createClass({\n  getInitialState() {\n    return {\n      position: 0,\n      data: this.props.res,\n      visible: true\n    };\n  },\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown, false);\n  },\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown, false);\n  },\n  render: function() {\n    var footer = [];\n    var max = this.state.data.length;\n    var data = this.state.data;\n    var style = {};\n    console.log(\"data/\" + data.length + \" position/\" + this.state.position);\n    style.color = '#0f0f0f';\n    for (var i = this.state.position - 2; i <= this.state.position + 2; i++) {\n      var position = i\n      if (i < 0) position = i + max;\n      if (i >= max) position = i - max;\n      var val = data[position];\n      var entryStyle = {\n        backgroundColor: '#000000',\n        background: 'url(' + val.image_url + ')'\n      };\n      var d = new Date(val.original_posted_at);\n      if(this.state.visible){\n        footer.push(\n          <a key={position} href={val.url} className={this.state.position === position ? 'entry-box entry-select' : 'entry-box'} style={entryStyle}>\n            <div className=\"entry-info\">\n              <div className=\"entry-contents\">\n                <div className=\"title\">{val.title}</div>\n                <div className=\"description\">{val.desc}</div>\n              </div>\n              <div className=\"entry-meta\">\n                <span className=\"created_at\">{val.keyword}</span>\n                <span className=\"created_at\">{d.getFullYear() + '/' + d.getMonth() + '/' + d.getDate()}</span>\n              </div>\n            </div>\n          </a>\n          );\n      } else {\n        footer.push(\n          <a key={position} className={'hide entry-box'}></a>\n          );\n      };\n    };\n    return (\n    <div className=\"simility-footer-contents\">\n      {footer}\n    </div>\n    );\n  },\n  handleKeydown(e) {\n    if(e.keyCode == 40) {\n      this.setState({visible: false});\n    } else if(e.keyCode == 37 || e.shiftKey || e.keyCode == 39) {\n      this.setState({visible: true});\n    }\n    if (e.keyCode == 37) {\n      if (this.state.position == 0) { this.setState({position: this.state.position + (this.state.data.length-1)}); }\n      else if (this.state.position > 0) this.setState({position: this.state.position - 1});\n    } else if (e.keyCode == 39) {\n      if(this.state.position == this.state.data.length-1) { this.setState({position: this.state.position - (this.state.data.length-1)}); }\n      else if (this.state.position < this.state.data.length) this.setState({position: this.state.position + 1});\n    } else if (e.keyCode == 13 && this.state.visible){\n      location.href = this.state.data[this.state.position].url;\n    };\n  }\n});"]}